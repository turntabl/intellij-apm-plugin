[
  {
    "type": "stacktrace",
    "language": "java",
    "version": 1,
    "truncated": true,
    "payload": [
      {
        "desc": "jdk.jfr.internal.EventInstrumentation.getEventHandler(Ljdk/internal/org/objectweb/asm/MethodVisitor;)V",
        "line": "477",
        "bytecodeIndex": "52"
      },
      {
        "desc": "jdk.jfr.internal.EventInstrumentation.lambda$makeInstrumented$0(Ljdk/internal/org/objectweb/asm/MethodVisitor;)V",
        "line": "336",
        "bytecodeIndex": "30"
      },
      {
        "desc": "jdk.jfr.internal.EventInstrumentation$$Lambda$128.1809249771.accept(Ljava/lang/Object;)V",
        "line": "-1",
        "bytecodeIndex": "8"
      },
      {
        "desc": "jdk.jfr.internal.EventInstrumentation.updateMethod(Ljdk/internal/org/objectweb/asm/commons/Method;Ljava/util/function/Consumer;)V",
        "line": "517",
        "bytecodeIndex": "66"
      },
      {
        "desc": "jdk.jfr.internal.EventInstrumentation.makeInstrumented()V",
        "line": "330",
        "bytecodeIndex": "10"
      },
      {
        "desc": "jdk.jfr.internal.EventInstrumentation.buildInstrumented()[B",
        "line": "310",
        "bytecodeIndex": "1"
      },
      {
        "desc": "jdk.jfr.internal.JVMUpcalls.onRetransform(JZLjava/lang/Class;[B)[B",
        "line": "64",
        "bytecodeIndex": "128"
      },
      {
        "desc": "jdk.jfr.internal.JVM.retransformClasses([Ljava/lang/Class;)V",
        "line": "-1",
        "bytecodeIndex": "0"
      },
      {
        "desc": "jdk.jfr.internal.SettingsManager.updateRetransform(Ljava/util/List;)V",
        "line": "170",
        "bytecodeIndex": "110"
      },
      {
        "desc": "jdk.jfr.internal.SettingsManager.setSettings(Ljava/util/List;)V",
        "line": "150",
        "bytecodeIndex": "136"
      },
      {
        "desc": "jdk.jfr.internal.MetadataRepository.setSettings(Ljava/util/List;)V",
        "line": "200",
        "bytecodeIndex": "5"
      },
      {
        "desc": "jdk.jfr.internal.PlatformRecorder.updateSettingsButIgnoreRecording(Ljdk/jfr/internal/PlatformRecording;)V",
        "line": "338",
        "bytecodeIndex": "74"
      },
      {
        "desc": "jdk.jfr.internal.PlatformRecorder.updateSettings()V",
        "line": "327",
        "bytecodeIndex": "2"
      },
      {
        "desc": "jdk.jfr.internal.PlatformRecorder.start(Ljdk/jfr/internal/PlatformRecording;)V",
        "line": "237",
        "bytecodeIndex": "168"
      },
      {
        "desc": "jdk.jfr.internal.PlatformRecording.start()V",
        "line": "114",
        "bytecodeIndex": "65"
      },
      {
        "desc": "jdk.jfr.Recording.start()V",
        "line": "169",
        "bytecodeIndex": "4"
      },
      {
        "desc": "com.newrelic.jfr.daemon.agent.FileJfrRecorderFactory.getRecorder()Lcom/newrelic/jfr/daemon/JfrRecorder;",
        "line": "34",
        "bytecodeIndex": "59"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JfrController.resetJfrRecorder()V",
        "line": "79",
        "bytecodeIndex": "5"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JfrController.loop()V",
        "line": "60",
        "bytecodeIndex": "32"
      },
      {
        "desc": "com.newrelic.jfr.daemon.agent.AgentMain.lambda$start$0(Lcom/newrelic/jfr/daemon/JfrController;)V",
        "line": "49",
        "bytecodeIndex": "1"
      },
      {
        "desc": "com.newrelic.jfr.daemon.agent.AgentMain$$Lambda$70.709865851.run()V",
        "line": "-1",
        "bytecodeIndex": "4"
      },
      {
        "desc": "java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object;",
        "line": "515",
        "bytecodeIndex": "4"
      },
      {
        "desc": "java.util.concurrent.FutureTask.run()V",
        "line": "264",
        "bytecodeIndex": "39"
      },
      {
        "desc": "java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V",
        "line": "1128",
        "bytecodeIndex": "92"
      },
      {
        "desc": "java.util.concurrent.ThreadPoolExecutor$Worker.run()V",
        "line": "628",
        "bytecodeIndex": "5"
      }
    ]
  },
  {
    "type": "stacktrace",
    "language": "java",
    "version": 1,
    "truncated": true,
    "payload": [
      {
        "desc": "java.util.Spliterators.spliterator([Ljava/lang/Object;I)Ljava/util/Spliterator;",
        "line": "142",
        "bytecodeIndex": "0"
      },
      {
        "desc": "java.util.Arrays$ArrayList.spliterator()Ljava/util/Spliterator;",
        "line": "4383",
        "bytecodeIndex": "6"
      },
      {
        "desc": "java.util.Collection.stream()Ljava/util/stream/Stream;",
        "line": "711",
        "bytecodeIndex": "1"
      },
      {
        "desc": "com.newrelic.jfr.ToSummaryRegistry.all()Ljava/util/stream/Stream;",
        "line": "62",
        "bytecodeIndex": "4"
      },
      {
        "desc": "com.newrelic.jfr.daemon.EventConverter.convertAndBuffer(Lcom/newrelic/jfr/daemon/BufferedTelemetry;Ljdk/jfr/consumer/RecordedEvent;)V",
        "line": "94",
        "bytecodeIndex": "118"
      },
      {
        "desc": "com.newrelic.jfr.daemon.EventConverter.lambda$convert$0(Lcom/newrelic/jfr/daemon/BufferedTelemetry;Ljdk/jfr/consumer/RecordedEvent;)V",
        "line": "65",
        "bytecodeIndex": "3"
      },
      {
        "desc": "com.newrelic.jfr.daemon.EventConverter$$Lambda$153.1832427562.accept(Ljava/lang/Object;)V",
        "line": "-1",
        "bytecodeIndex": "12"
      },
      {
        "desc": "java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Ljava/lang/Object;)V",
        "line": "183",
        "bytecodeIndex": "5"
      },
      {
        "desc": "java.util.stream.ReferencePipeline$2$1.accept(Ljava/lang/Object;)V",
        "line": "177",
        "bytecodeIndex": "21"
      },
      {
        "desc": "java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Ljava/util/function/Consumer;)V",
        "line": "1655",
        "bytecodeIndex": "95"
      },
      {
        "desc": "java.util.stream.AbstractPipeline.copyInto(Ljava/util/stream/Sink;Ljava/util/Spliterator;)V",
        "line": "484",
        "bytecodeIndex": "32"
      },
      {
        "desc": "java.util.stream.AbstractPipeline.wrapAndCopyInto(Ljava/util/stream/Sink;Ljava/util/Spliterator;)Ljava/util/stream/Sink;",
        "line": "474",
        "bytecodeIndex": "13"
      },
      {
        "desc": "java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Ljava/util/stream/PipelineHelper;Ljava/util/Spliterator;)Ljava/lang/Void;",
        "line": "150",
        "bytecodeIndex": "3"
      },
      {
        "desc": "java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Ljava/util/stream/PipelineHelper;Ljava/util/Spliterator;)Ljava/lang/Object;",
        "line": "173",
        "bytecodeIndex": "3"
      },
      {
        "desc": "java.util.stream.AbstractPipeline.evaluate(Ljava/util/stream/TerminalOp;)Ljava/lang/Object;",
        "line": "234",
        "bytecodeIndex": "88"
      },
      {
        "desc": "java.util.stream.ReferencePipeline.forEach(Ljava/util/function/Consumer;)V",
        "line": "497",
        "bytecodeIndex": "6"
      },
      {
        "desc": "com.newrelic.jfr.daemon.EventConverter.convert(Lcom/newrelic/jfr/daemon/RecordedEventBuffer;)Lcom/newrelic/jfr/daemon/BufferedTelemetry;",
        "line": "65",
        "bytecodeIndex": "29"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JFRUploader.maybeDrainAndSend()V",
        "line": "74",
        "bytecodeIndex": "26"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JFRUploader.handleFile(Ljava/nio/file/Path;)V",
        "line": "41",
        "bytecodeIndex": "6"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JfrController.lambda$loop$1(Ljava/nio/file/Path;)V",
        "line": "65",
        "bytecodeIndex": "5"
      },
      {
        "desc": "com.newrelic.jfr.daemon.JfrController$$Lambda$145.290551137.run()V",
        "line": "-1",
        "bytecodeIndex": "8"
      },
      {
        "desc": "java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object;",
        "line": "515",
        "bytecodeIndex": "4"
      }
    ]
  },
  {
    "payload": [
      {
        "desc": "java.net.SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I",
        "line": "-1",
        "bytecodeIndex": "0"
      },
      {
        "desc": "java.net.SocketInputStream.socketRead(Ljava/io/FileDescriptor;[BIII)I",
        "line": "115",
        "bytecodeIndex": "8"
      },
      {
        "desc": "java.net.SocketInputStream.read([BIII)I",
        "line": "168",
        "bytecodeIndex": "404"
      },
      {
        "desc": "java.net.SocketInputStream.read([BII)I",
        "line": "140",
        "bytecodeIndex": "11"
      },
      {
        "desc": "okio.InputStreamSource.read(Lokio/Buffer;J)J",
        "line": "90",
        "bytecodeIndex": "141"
      },
      {
        "desc": "okio.AsyncTimeout$source$1.read(Lokio/Buffer;J)J",
        "line": "129",
        "bytecodeIndex": "33"
      },
      {
        "desc": "okio.RealBufferedSource.indexOf(BJJ)J",
        "line": "449",
        "bytecodeIndex": "250"
      },
      {
        "desc": "okio.RealBufferedSource.readUtf8LineStrict(J)Ljava/lang/String;",
        "line": "333",
        "bytecodeIndex": "96"
      },
      {
        "desc": "okhttp3.internal.http1.HeadersReader.readLine()Ljava/lang/String;",
        "line": "29",
        "bytecodeIndex": "8"
      },
      {
        "desc": "okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Z)Lokhttp3/Response$Builder;",
        "line": "178",
        "bytecodeIndex": "82"
      },
      {
        "desc": "okhttp3.internal.connection.Exchange.readResponseHeaders(Z)Lokhttp3/Response$Builder;",
        "line": "106",
        "bytecodeIndex": "6"
      },
      {
        "desc": "okhttp3.internal.http.CallServerInterceptor.intercept(Lokhttp3/Interceptor$Chain;)Lokhttp3/Response;",
        "line": "79",
        "bytecodeIndex": "223"
      },
      {
        "desc": "okhttp3.internal.http.RealInterceptorChain.proceed(Lokhttp3/Request;)Lokhttp3/Response;",
        "line": "109",
        "bytecodeIndex": "297"
      },
      {
        "desc": "okhttp3.internal.connection.ConnectInterceptor.intercept(Lokhttp3/Interceptor$Chain;)Lokhttp3/Response;",
        "line": "34",
        "bytecodeIndex": "44"
      },
      {
        "desc": "okhttp3.internal.http.RealInterceptorChain.proceed(Lokhttp3/Request;)Lokhttp3/Response;",
        "line": "109",
        "bytecodeIndex": "297"
      },
      {
        "desc": "okhttp3.internal.cache.CacheInterceptor.intercept(Lokhttp3/Interceptor$Chain;)Lokhttp3/Response;",
        "line": "95",
        "bytecodeIndex": "341"
      },
      {
        "desc": "okhttp3.internal.http.RealInterceptorChain.proceed(Lokhttp3/Request;)Lokhttp3/Response;",
        "line": "109",
        "bytecodeIndex": "297"
      },
      {
        "desc": "okhttp3.internal.http.BridgeInterceptor.intercept(Lokhttp3/Interceptor$Chain;)Lokhttp3/Response;",
        "line": "83",
        "bytecodeIndex": "263"
      },
      {
        "desc": "okhttp3.internal.http.RealInterceptorChain.proceed(Lokhttp3/Request;)Lokhttp3/Response;",
        "line": "109",
        "bytecodeIndex": "297"
      },
      {
        "desc": "okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Lokhttp3/Interceptor$Chain;)Lokhttp3/Response;",
        "line": "76",
        "bytecodeIndex": "85"
      },
      {
        "desc": "okhttp3.internal.http.RealInterceptorChain.proceed(Lokhttp3/Request;)Lokhttp3/Response;",
        "line": "109",
        "bytecodeIndex": "297"
      },
      {
        "desc": "okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp()Lokhttp3/Response;",
        "line": "201",
        "bytecodeIndex": "253"
      }
    ]
  }
]